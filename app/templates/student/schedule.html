{% extends "base.html" %}

{% block title %}My Course Schedule{% endblock %}

{% block content %}
    <h1>My Course Schedule</h1>
    <div class="schedule-list"> 
        {% if courses %}
            {% for course in courses %}
                <div class="schedule-item"> 
                    <div class="schedule-header">
                        <h2>{{ course.code }} - {{ course.title }}</h2> 
                    </div>
                    <div class="schedule-details">
                        <p><strong>Schedule:</strong> {{ course.schedule }}</p>
                        {% if course.location %}
                            <p><strong>Location:</strong> {{ course.location }}</p>
                        {% endif %}
                        {% if course.instructor %}
                            <p><strong>Instructor:</strong> {{ course.instructor }}</p>
                        {% endif %}
                        
                        <form action="{{ url_for('student.unregister_course', course_id=course.id) }}" method="POST"
                            onsubmit="return confirm('Are you sure you want to drop this course?');">
                            <button type="submit" class="btn btn-danger">Unregister</button> 
                        </form>
                    </div>
                </div>
            {% endfor %}
        {% else %}
            <p>You haven't registered for any courses yet.</p>
        {% endif %}
    </div>
{% endblock %}